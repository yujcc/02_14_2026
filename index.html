<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Valentine Project</title>

    <!-- Browser Favicon-->
    <link rel="icon" type="image/png" href="assets/penta.png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cherry+Bomb+One&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">

    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/phosphor-icons"></script>

    <!-- KaTeX for Math Rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
</head>

<body>

    <!-- Desktop Layer -->
    <div class="desktop">

        <!-- Desktop Folder Icon -->
        <div class="desktop-icon" id="open-folder">
            <img src="assets/folder_pink.png" alt="Love Logic Folder" class="custom-folder">
            <span>Love_Logic</span>
        </div>

    </div>

    <!-- Finder Window -->
    <div class="window finder hidden" id="finder-window">
        <div class="window-header">
            <div class="window-controls">
                <div class="control red"></div>
                <div class="control yellow"></div>
                <div class="control green"></div>
            </div>
            <div class="window-title">Love_Logic</div>
            <i class="ph-heart header-icon"></i>
        </div>

        <div class="content finder-grid">
            <div class="file-icon" id="start-game">
                <i class="ph ph-file-x"></i>
                <span>Hmph.exe</span>
            </div>
        </div>
    </div>

    <!-- Game Window -->
    <div class="window game hidden" id="game-window">
        <div class="window-header">
            <div class="window-controls">
                <div class="control red"></div>
                <div class="control yellow"></div>
                <div class="control green"></div>
            </div>
            <div class="window-title">Valentine.exe</div>
            <i class="ph-heart header-icon"></i>
        </div>

        <div class="content">

            <!-- VIEW 0: Start Screen -->
            <div id="start-screen">
                <div class="hero">
                    <h1>Valentine.exe</h1>
                    <p>System Ready?</p>
                </div>
                <div class="center">
                    <button class="btn" onclick="startLoadingSequence()">
                        <i class="ph-play"></i> Launch
                    </button>
                </div>
            </div>

            <!-- VIEW 0.5: Loading Screen -->
            <div id="loading-screen" class="hidden">
                <div class="loading-main">
                    <img src="assets/penta_running.gif" alt="Running Penta" class="loading-gif">
                    <div class="loading-wave">
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                    </div>
                </div>
                <div class="loading-footer">
                    <h2>Loading Assets...</h2>
                </div>
            </div>

            <!-- VIEW 1: Character Selection (Console) -->
            <div id="character-select-view" class="hidden">
                <div class="penta-console-container">

                    <!-- Top Console Card -->
                    <div class="console-card">
                        <div class="console-top-dots"><span></span><span></span></div>

                        <!-- Navigation Arrows (Subtle) -->
                        <button class="console-arrow l" onclick="moveCarousel(-1)">â—€</button>
                        <button class="console-arrow r" onclick="moveCarousel(1)">â–¶</button>

                        <div class="console-screen">
                            <div class="nb-carousel-viewport">
                                <div class="nb-carousel-track" id="carousel-track">
                                    <div class="nb-carousel-slide"><img src="assets/penta_wizard.png" class="slide-img"
                                            alt="Wizard"></div>
                                    <div class="nb-carousel-slide"><img src="assets/penta_chef.png" class="slide-img"
                                            alt="Chef"></div>
                                    <div class="nb-carousel-slide"><img src="assets/penta_cupid.png" class="slide-img"
                                            alt="Cupid"></div>
                                </div>
                            </div>
                        </div>

                        <div class="console-bottom-details">
                            <div class="red-dot"></div>
                            <div class="speaker-grille"><span></span><span></span><span></span></div>
                        </div>
                    </div>

                    <!-- Pagination Dots -->
                    <div class="pagination-dots" id="pagination-dots">
                        <span class="dot active"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                    </div>

                    <!-- Info Box -->
                    <div class="info-box">
                        <h2 id="char-title">Mathematical Penguin</h2>
                        <p id="char-desc">Logic. Patterns. Chaos equations. Explore the beauty of numbers with Wizard
                            Penta!</p>
                    </div>

                    <!-- Action Button -->
                    <button class="get-started-btn" onclick="confirmSelection()">Get Started!</button>
                </div>
            </div>

            <!-- VIEW 2: Game Question -->
            <div id="game-view" class="hidden">
                <div class="avatar-header">
                    <div class="avatar">
                        <div class="mask mask-heart">
                            <img id="game-avatar" src="" alt="Penta" />
                        </div>
                    </div>
                </div>
                <div class="hero">
                    <h2 id="question-text" class="question-text">Question goes here...</h2>
                </div>
                <div id="options-container" class="options-grid">
                    <!-- Buttons injected by JS -->
                </div>
            </div>

            <!-- VIEW 3: Result -->
            <div id="result-view" class="hidden">
                <div class="hero">
                    <h1 id="result-title">Success!</h1>
                    <p id="result-desc">You did it!</p>
                </div>
                <!-- Optional: Restart Button -->
                <div class="center">
                    <button class="btn" onclick="location.reload()">Play Again</button>
                </div>
            </div>

        </div>

    </div>

    <div class="footer">
       0 I â€¢ 2 O â€¢ 5 U
    </div>

    <!-- Collapsible Home Menu -->
    <div class="home-menu-container">

        <!-- Menu Options (Hidden by default) -->
        <div class="menu-options" id="menu-options">
            <button class="menu-btn" onclick="toggleMusic()" title="Music On/Off">
                <i class="ph-music-notes-simple"></i>
            </button>
            <button class="menu-btn" onclick="showMessageModal()" title="Message">
                <i class="ph ph-heart-break"></i>
            </button>
            <button class="menu-btn" onclick="goBack()" title="Go Back">
                <i class="ph-arrow-bend-up-left"></i>
            </button>
        </div>

        <!-- Main Toggle Button -->
        <button class="menu-trigger" id="menu-trigger" onclick="toggleMenu()">
            <i class="ph-list"></i>
        </button>

    </div>

    <!-- Custom Modal (Hidden by default) -->
    <div id="custom-modal" class="modal-overlay hidden" onclick="closeModal(event)">
        <div class="modal-box">
            <button class="modal-close" onclick="closeModal(event)">
                <i class="ph-x"></i>
            </button>
            <i class="ph-heart-straight-fill modal-heart-icon"></i>
            <h3>Love Note</h3>
            <p>You are loved! ðŸ’–<br>(This is a reminder from the Universe)</p>
        </div>
    </div>

    <script src="game_data.js"></script>
    <script src="game_logic.js"></script>
    <script src="main.js"></script>
</body>

</html>